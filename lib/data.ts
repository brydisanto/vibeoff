import { PLASTIC_IDS, FEMALE_IDS, RANGER_IDS } from './filter_ids';

export interface CharacterStats {
    wins: number;
    losses: number;
    matches: number;
}

// ... (interfaces)
export interface Character {
    id: number;
    name: string;
    url: string;
    weekly: CharacterStats;
    allTime: CharacterStats;
    owner: string;
    type: 'Gold' | 'Cosmic' | '1/1' | 'Standard' | 'Rainbow';
    hasBeard: boolean;
    isGrayscale: boolean;
    hasHoodie: boolean;
    isPlastic: boolean;
    isFemale: boolean;
    isRanger: boolean;
}

// Real GVC Token IDs (All 6969 characters)
const VIBE_IDS = Array.from({ length: 6969 }, (_, i) => i + 1);

const getImageUrl = (id: number) => {
    return `https://nftstorage.link/ipfs/QmY6JpwTYx6zZHgfJb3gPJRh1U897NX4RudtK5jhJ3sNDS/${id}.jpg`;
};

const generateOwner = (id: number) => {
    // Deterministic pseudo-random wallet generation based on ID
    // Always generate full wallet addresses (no ENS, no truncation)
    // This ensures fallback data is always linkable to OpenSea
    const chars = '0123456789abcdef';
    let seed = id * 123456;

    // Generate full 40-character hex address (0x + 40 hex chars)
    let hash = '0x';
    for (let i = 0; i < 40; i++) {
        seed = (seed * 1664525 + 1013904223) % 4294967296;
        const val = Math.floor(seed / 42949673) % 16;
        hash += chars[val];
    }
    return hash;
};


const GOLD_IDS = [
    19, 115, 182, 233, 288, 306, 314, 341, 362, 392, 419, 454, 572, 644, 1048, 1078, 1183, 1198, 1253, 1332, 1359, 1379, 1413, 1458, 1508, 1531, 1546, 1552, 1578, 1618, 1632, 1666, 1793, 1962, 2009, 2023, 2040, 2064, 2154, 2229, 2298, 2311, 2452, 2541, 2609, 2730, 2779, 2809, 2810, 2832, 2859, 2885, 2903, 2983, 3038, 3151, 3254, 3258, 3269, 3414, 3614, 3646, 3715, 3756, 3801, 3846, 3897, 3922, 3933, 3972, 4069, 4295, 4300, 4305, 4363, 4386, 4437, 4458, 4493, 4570, 4667, 4757, 4806, 4901, 4937, 5088, 5119, 5206, 5210, 5354, 5587, 5618, 5627, 5638, 5659, 5701, 5711, 5731, 5759, 5851, 5925, 5953, 5970, 5973, 6083, 6236, 6276, 6281, 6300, 6333, 6345, 6395, 6406, 6425, 6430, 6471, 6513, 6530, 6550, 6605, 6628, 6714, 6758, 6768, 6777, 6830, 6852, 6909
];

const COSMIC_IDS = [
    173, 263, 489, 576, 601, 673, 762, 957, 960, 1056, 1082, 1119, 1241, 1682, 1693, 1925, 2032, 2052, 2099, 2173, 2374, 2389, 2429, 2458, 2497, 2598, 2633, 2651, 2725, 2747, 2790, 2858, 2951, 2952, 3046, 3424, 3489, 3581, 3645, 3649, 3657, 3674, 3819, 3964, 3982, 4111, 4331, 4423, 4425, 4595, 4835, 4905, 4919, 5011, 5301, 5348, 5473, 5507, 5526, 5597, 5799, 6034, 6039, 6191, 6259, 6537, 6662, 6853, 6953
];

const ONE_OF_ONE_IDS = [
    430, 975, 1151, 1400, 2943, 4113, 4889, 5275, 6731
];

// To be populated by scraper
export const RAINBOW_IDS: number[] = [
    23, 236, 238, 277, 295, 303, 320, 407, 412, 465, 471, 493, 500, 544, 588, 660, 665, 667, 668, 690, 726, 729, 752, 820, 825, 840, 881, 903, 993, 1027, 1079, 1108, 1218, 1265, 1291, 1303, 1309, 1378, 1405, 1407, 1408, 1457, 1483, 1491, 1499, 1509, 1513, 1516, 1545, 1549, 1576, 1716, 1721, 1740, 1803, 1804, 1817, 1854, 1884, 1907, 1942, 1956, 1966, 2034, 2079, 2118, 2142, 2164, 2197, 2209, 2286, 2296, 2307, 2341, 2345, 2359, 2363, 2381, 2393, 2414, 2420, 2493, 2496, 2499, 2588, 2599, 2643, 2657, 2663, 2673, 2715, 2737, 2740, 2744, 2777, 2783, 2818, 2846, 2902, 2906, 2946, 2953, 3204, 3287, 3288, 3386, 3388, 3403, 3408, 3491, 3520, 3525, 3557, 3589, 3660, 3733, 3757, 3821, 3874, 3928, 4001, 4007, 4018, 4021, 4022, 4064, 4077, 4078, 4100, 4128, 4134, 4246, 4255, 4264, 4265, 4281, 4291, 4299, 4301, 4318, 4338, 4399, 4401, 4406, 4409, 4424, 4491, 4552, 4557, 4590, 4594, 4607, 4634, 4657, 4663, 4671, 4676, 4724, 4799, 4825, 4886, 4916, 5024, 5027, 5078, 5158, 5177, 5213, 5223, 5238, 5253, 5304, 5319, 5326, 5342, 5389, 5400, 5409, 5423, 5485, 5541, 5569, 5585, 5644, 5656, 5667, 5719, 5721, 5728, 5772, 5802, 5816, 5847, 5852, 5876, 5879, 5882, 5889, 5893, 5903, 5911, 5918, 5965, 6005, 6044, 6113, 6155, 6175, 6225, 6234, 6254, 6275, 6371, 6394, 6459, 6465, 6482, 6521, 6561, 6631, 6632, 6635, 6642, 6729, 6782, 6793, 6818, 6834, 6864, 6868, 6893, 6918, 6956, 30, 40, 78, 123, 159, 180, 3011, 3058, 3062, 3125, 4325, 4934, 4943, 4953, 4964, 4974, 5043, 5086, 5981
];

const BEARD_IDS = [
    5, 73, 135, 144, 228, 250, 434, 506, 514, 527, 597, 631, 642, 647, 664, 687, 723, 733, 750, 768, 799, 872, 945, 953, 1045, 1092, 1195, 1262, 1266, 1269, 1308, 1370, 1415, 1434, 1515, 1542, 1581, 1608, 1650, 1739, 1753, 1808, 1873, 1962, 2116, 2144, 2324, 2344, 2356, 2375, 2436, 2471, 2525, 2578, 2589, 2594, 2653, 2731, 2768, 2838, 2880, 2898, 2904, 2944, 3003, 3042, 3093, 3119, 3128, 3129, 3155, 3188, 3224, 3293, 3304, 3306, 3316, 3354, 3384, 3476, 3693, 3720, 3781, 3827, 3840, 3882, 3969, 3977, 4147, 4225, 4317, 4382, 4584, 4625, 4674, 4680, 4716, 4785, 4797, 4830, 4881, 4926, 5066, 5129, 5156, 5179, 5240, 5274, 5308, 5349, 5374, 5441, 5449, 5582, 5645, 5659, 5674, 5716, 5718, 5720, 5723, 5738, 5809, 5869, 6006, 6028, 6122, 6190, 6273, 6287, 6289, 6412, 6556, 6584, 6664, 6681, 6743, 6744, 6752, 6796, 6831, 6879, 6919, 6933, 6942
];

const STACHE_IDS = [
    54, 119, 179, 194, 329, 368, 447, 640, 706, 862, 877, 914, 1014, 1032, 1077, 1097, 1169, 1286, 1478, 1491, 1606, 1633, 1637, 1672, 1711, 1783, 1816, 1900, 1901, 1931, 2354, 2434, 2446, 2508, 2689, 2955, 3005, 3079, 3218, 3226, 3303, 3396, 3430, 3633, 3832, 3853, 3923, 3978, 4093, 4156, 4174, 4186, 4231, 4255, 4441, 4509, 4526, 4723, 4850, 4896, 4936, 5105, 5181, 5193, 5198, 5230, 5717, 5758, 5826, 5897, 6031, 6033, 6176, 6189, 6423, 6443, 6690, 6745, 6750
];

// Combined beard and stache IDs for the filter
const BEARD_AND_STACHE_IDS = Array.from(new Set([...BEARD_IDS, ...STACHE_IDS]));

export const HOODIE_IDS: number[] = [96, 136, 162, 177, 211, 221, 260, 311, 377, 379, 386, 392, 395, 406, 421, 439, 463, 477, 486, 487, 527, 594, 608, 615, 620, 672, 685, 712, 736, 745, 754, 772, 787, 795, 804, 836, 838, 873, 878, 882, 884, 965, 972, 973, 1031, 1036, 1053, 1083, 1099, 1130, 1147, 1159, 1366, 1370, 1382, 1403, 1429, 1553, 1567, 1639, 1675, 1717, 1750, 1762, 1780, 1788, 1796, 1878, 1885, 1915, 1928, 1930, 2005, 2016, 2025, 2031, 2064, 2080, 2105, 2106, 2214, 2233, 2254, 2277, 2323, 2401, 2411, 2436, 2439, 2450, 2459, 2486, 2501, 2578, 2617, 2646, 2667, 2689, 2704, 2707, 2719, 2738, 2850, 2868, 2880, 2890, 2898, 2959, 2972, 3079, 3188, 3215, 3220, 3221, 3267, 3425, 3427, 3448, 3485, 3498, 3503, 3542, 3612, 3642, 3685, 3750, 3853, 3860, 3890, 3956, 3968, 3970, 3974, 4002, 4084, 4103, 4194, 4210, 4279, 4316, 4373, 4415, 4496, 4610, 4660, 4711, 4730, 4846, 4898, 4920, 4989, 4996, 5010, 5155, 5197, 5203, 5231, 5239, 5248, 5292, 5308, 5313, 5359, 5366, 5374, 5397, 5428, 5454, 5525, 5539, 5561, 5622, 5639, 5659, 5752, 5754, 5775, 5801, 5825, 5826, 5853, 5854, 5855, 5902, 5909, 5931, 5933, 5934, 5963, 6015, 6063, 6071, 6090, 6168, 6187, 6205, 6328, 6347, 6409, 6412, 6428, 6462, 6464, 6554, 6560, 6597, 6633, 6645, 6683, 6700, 6728, 6801, 6839, 6872, 6957, 6963, 6964, 6965];
export const GRAYSCALE_IDS: number[] = [1, 34, 48, 55, 65, 80, 95, 148, 150, 158, 161, 179, 181, 200, 214, 239, 244, 262, 266, 272, 354, 364, 369, 373, 417, 420, 447, 449, 456, 467, 567, 578, 600, 609, 677, 717, 723, 737, 748, 764, 777, 784, 796, 809, 815, 816, 818, 827, 842, 848, 907, 939, 949, 958, 977, 983, 986, 987, 992, 1011, 1019, 1060, 1066, 1076, 1081, 1088, 1096, 1116, 1128, 1129, 1140, 1143, 1171, 1330, 1384, 1478, 1479, 1488, 1490, 1502, 1536, 1556, 1558, 1585, 1586, 1616, 1627, 1628, 1652, 1699, 1734, 1768, 1773, 1782, 1787, 1822, 1824, 1837, 1844, 1870, 1886, 1898, 1940, 1954, 1996, 2006, 2008, 2010, 2036, 2043, 2044, 2059, 2071, 2075, 2096, 2131, 2138, 2217, 2222, 2230, 2247, 2249, 2252, 2263, 2273, 2281, 2283, 2313, 2342, 2360, 2362, 2366, 2378, 2399, 2413, 2444, 2448, 2470, 2473, 2489, 2507, 2522, 2552, 2593, 2600, 2619, 2627, 2659, 2681, 2717, 2755, 2791, 2815, 2834, 2844, 2847, 2852, 2877, 2923, 2956, 2980, 2985, 2997, 2999, 3001, 3006, 3009, 3014, 3020, 3102, 3108, 3111, 3152, 3183, 3203, 3240, 3242, 3252, 3262, 3277, 3318, 3335, 3346, 3351, 3359, 3385, 3389, 3392, 3412, 3413, 3415, 3487, 3501, 3511, 3521, 3548, 3556, 3578, 3584, 3608, 3656, 3664, 3686, 3740, 3784, 3816, 3843, 3869, 3918, 3921, 3949, 3980, 4037, 4072, 4080, 4091, 4105, 4110, 4125, 4132, 4142, 4145, 4157, 4164, 4199, 4211, 4231, 4239, 4269, 4274, 4276, 4306, 4308, 4352, 4376, 4391, 4397, 4427, 4432, 4433, 4443, 4452, 4461, 4478, 4479, 4486, 4494, 4499, 4508, 4509, 4515, 4519, 4618, 4643, 4685, 4716, 4723, 4732, 4743, 4750, 4759, 4768, 4797, 4831, 4836, 4857, 4870, 4877, 4881, 4887, 4894, 4913, 4915, 4921, 4936, 4956, 4960, 4971, 5008, 5033, 5041, 5052, 5054, 5081, 5101, 5117, 5118, 5141, 5161, 5165, 5187, 5204, 5236, 5242, 5249, 5264, 5291, 5314, 5323, 5373, 5391, 5399, 5406, 5440, 5443, 5446, 5466, 5467, 5480, 5482, 5486, 5490, 5547, 5588, 5592, 5620, 5628, 5630, 5637, 5678, 5697, 5706, 5714, 5717, 5780, 5781, 5782, 5784, 5795, 5821, 5842, 5845, 5873, 5875, 5880, 5884, 5892, 5895, 5935, 6016, 6022, 6023, 6053, 6076, 6086, 6091, 6117, 6146, 6153, 6154, 6169, 6189, 6243, 6252, 6307, 6310, 6339, 6350, 6358, 6390, 6392, 6403, 6422, 6440, 6451, 6490, 6498, 6506, 6522, 6526, 6532, 6548, 6563, 6578, 6600, 6603, 6610, 6617, 6621, 6622, 6639, 6659, 6688, 6721, 6732, 6745, 6747, 6778, 6814, 6849, 6879, 6894, 6903, 6931, 6945, 6946];

const getType = (id: number): 'Gold' | 'Cosmic' | '1/1' | 'Rainbow' | 'Standard' => {
    if (ONE_OF_ONE_IDS.includes(id)) return '1/1';
    if (GOLD_IDS.includes(id)) return 'Gold';
    if (COSMIC_IDS.includes(id)) return 'Cosmic';
    if (RAINBOW_IDS.includes(id)) return 'Rainbow';
    return 'Standard';
};

const createInitialCharacter = (id: number): Character => ({
    id,
    name: `GVC #${id}`,
    url: getImageUrl(id),
    owner: generateOwner(id),
    type: getType(id),
    hasBeard: BEARD_AND_STACHE_IDS.includes(id),
    isGrayscale: GRAYSCALE_IDS.includes(id),
    hasHoodie: HOODIE_IDS.includes(id),
    isPlastic: PLASTIC_IDS.includes(id),
    isFemale: FEMALE_IDS.includes(id),
    isRanger: RANGER_IDS.includes(id),
    weekly: { wins: 0, losses: 0, matches: 0 },
    allTime: { wins: 0, losses: 0, matches: 0 }
});

export const INITIAL_CHARACTERS: Character[] = VIBE_IDS.map(createInitialCharacter);
